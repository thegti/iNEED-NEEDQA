
 <div class="page-layout simple fullwidth bgstring" fxLayout="column"> <!-- fusePerfectScrollbar -->
    
    <div class="banner-content" fxLayout="column" fxLayoutAlign="center center" 
    fxLayout.gt-md="row" fxLayout.gt-sm="row" fxLayout.gt-xs="row">

     <div [hidden]="!next"  class="banner-lft">
         <h1>i need</h1>
 <mat-horizontal-stepper >
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
            <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h35" tab-index=-1>
                    <mat-label> </mat-label>

                    <mat-radio-group>
                        <mat-radio-button  value="1" formControlName="rdbProduct" checked (change)="selectSearch('1')"> Product</mat-radio-button>
                        <mat-radio-button  value="2" formControlName="rdbService" (change)="selectSearch('2')">Service</mat-radio-button>
                    </mat-radio-group>
            </div>
            <!-- <div >
                      <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                            <mat-label>Search</mat-label>
                    <input matInput type="text" placeholder="Keyword" formControlName="txtSearch">
                    <button type="submit" class="search-btn"> <mat-icon>search</mat-icon></button>
                    </mat-form-field>


            </div> -->
            <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h50" tab-index=-2>
                <mat-label>Search</mat-label>
              <mat-form-field appearance="outline">
                       <mat-select formControlName="ddlsearch"    #singleSelect placeholder="search" required  (selectionChange)="onKeyWordSelect()" >
                          <ngx-mat-select-search [formControl]="searchFilterCtrl" [placeholderLabel]="'Search Keyword...'"  [noEntriesFoundLabel]="'No matching Member found'"></ngx-mat-select-search>
                          <mat-option *ngFor="let member of filteredSearch | async" [value]="member['VKW_PK']">
                                {{member['VKW_KWORD']  }}
                              </mat-option>
                          
                  </mat-select>
                  <mat-error>Select Keyword</mat-error>
              </mat-form-field>        
          </div>

            <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h35" tab-index=-3>
                    <mat-label>From</mat-label>
                    <mat-radio-group>
                    <mat-radio-button value="1"  formControlName="rdbQatar" checked (change)="selectLocation('1')" >Qatar</mat-radio-button>
                    <mat-radio-button value="2" formControlName="rdbOutsideQatar" (change)="selectLocation('2')" >Outside Qatar</mat-radio-button>
                </mat-radio-group>
                   
        </div>
       
        <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h50" tab-index=-4>   
                 <mat-label >Email</mat-label>  
                <mat-form-field appearance="outline" fxFlex="50" >
                 
                 <input matInput type="text" formControlName="txtEmail" autocomplete="off" required>
                 <mat-error>Enter Valid Email ID</mat-error>
             </mat-form-field>
         </div> 
         <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h50" tab-index=-5> 
                <mat-label>Phone</mat-label>
             <mat-form-field appearance="outline" fxFlex="50">
                 
                 <input matInput  type="text"  formControlName="txtMobile" placeholder="Number" autocomplete="off"  required>
                 <mat-error>Enter Mobile No.</mat-error>
                </mat-form-field>
             </div> 
            
        <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h50" tab-index=-6>
            <mat-label>Your Location</mat-label>
          <mat-form-field appearance="outline">
                   <!-- <mat-label>Member</mat-label> -->
                   <mat-select formControlName="ddllocation"  #singleSelect placeholder="Location" >
                      <ngx-mat-select-search [formControl]="locationFilterCtrl" [placeholderLabel]="'Search Location...'"  [noEntriesFoundLabel]="'No matching Member found'"></ngx-mat-select-search>
                      <mat-option *ngFor="let member of filteredLocation | async" [value]="member['CON_PK']">
                            {{member['CON_NAME']  }}
                          
                          </mat-option>
                      
              </mat-select>
              <mat-error>Select Location</mat-error>
          </mat-form-field>        
      </div>

      <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto"  tab-index=-7 class="h70" >
            <mat-label></mat-label>
            
           
            <re-captcha (resolved)="resolved($event)" siteKey="6Lfm16UUAAAAAP1SRnvF-dCzN-E6QrGmtwpw48lX" formControlName="captcha" 
               style="transform:scale(0.95, 0.8);-webkit-transform:scale(0.95, 0.8);transform-origin:0 0;-webkit-transform-origin:0 0;">
            </re-captcha>
               
            
</div>


<div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" class="h45" tab-index=-8> 
        <mat-label>OTP</mat-label>
     <mat-form-field appearance="outline" fxFlex="50" class="min-max20">
         <input matInput  type="text"  formControlName="txtOTP" placeholder="OTP" >
     </mat-form-field> 
     <mat-label formControlName="lblOTPError" class="otp-err"></mat-label>
      <div class="btn-container txt-h" style="width:0%; margin-top:7px;">
     <button mat-raised-button  [disabled]="firstFormGroup.invalid" (click)="EnableNextButton()"  [ngClass]="{
        'prev': isFirst,
        'next': !isFirst
      }"   color="accent">
        Next
      </button>
      </div>
      <!-- <div class="btn-container txt-h" style="width:0%; margin-top:7px;">
      <button [disabled]="firstFormGroup.invalid" class="approv-btn"  [ngClass]="{
        'next': isFirst,
        'prev': !isFirst
      }" (click)="buttonPrevious()"  >Next</button>
    </div> -->
     </div> 

    <!-- <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" >  -->
             <!-- <mat-label></mat-label>
             <div class="btn-container txt-h" style="width:0%; margin-top:7px;">
                <button matStepperNext type="button" [ngClass]="{
                    'prev': isFirst,
                    'next': !isFirst
                  }" 
                  (click)="EnableNextButton()" [disabled]="firstFormGroup.invalid" class="approv-btn" >Next  </button>
            </div> -->
            <!--<input type="text" name="otp" class="w15per" >  -->
            <!-- <div fxLayout="row" fxLayoutAlign="center center">
                <button mat-raised-button matStepperNext type="button" [disabled]="firstFormGroup.invalid" color="accent" (click)="test()">
                    Next
                </button>
                <button mat-raised-button  (click)="goBack()" class="forCancel"  color="accent">
                 Cancel
               </button>
                </div> -->
            
           <!-- *ngIf="!enableclose"  [disabled]="form.invalid" class="approv-btn"  color="accent" >Next -->
<!-- </div> -->
      
      </form>
    </mat-step>

  </mat-horizontal-stepper>
    </div>

<!------- Submit Section ------->
    <div [hidden]="next" class="banner-lft" >
            
            <!-- <div class="p-24" fxLayout="column" class="next-option"
            fxLayoutAlign="center center" fxFlex="0.5 0 auto" name="form" [formGroup]="form"> -->
            <h1>i need</h1>
            <mat-horizontal-stepper >
                    <mat-step [stepControl]="secondFormGroup">
                      <form [formGroup]="secondFormGroup">
                         
                            <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" tab-index=-9>
                                    <mat-label> </mat-label>
                        
                                    <mat-radio-group>
                                        <mat-radio-button  value="1" name="rdbPersonalUse" checked (change)="selectSearch('1')">Personal Use</mat-radio-button>
                                        <mat-radio-button  value="2" name="rdbBusinessUse" (change)="selectSearch('2')">Business use</mat-radio-button>
                                    </mat-radio-group>
                            </div>

        <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" tab-index=-10> 
                <mat-label>Search</mat-label>
            <mat-form-field appearance="outline" fxFlex="50">
                
                <input matInput  type="text"  formControlName="txtSearch" placeholder="Keyword"  [value]= this.selectedText readonly>
            </mat-form-field>
            </div> 

     
    <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" tab-index=-11> 
            <mat-label></mat-label>
        <mat-form-field appearance="outline" fxFlex="50" class="min-max28-5">
            
            <input matInput  type="text"  formControlName="txtQuantity" placeholder="Qty" required >

            <mat-error>Enter Quantity</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="50" class="min-max28-5" tab-index=-12>
    
                <mat-select  formControlName="ddlUnit" placeholder="Unit" required>
                    <mat-option *ngFor="let type of unitOfMeasure"  [value]="type['UOM_PK']">
                        {{type['UOM_NAME']  }}
                  </mat-option> 
                </mat-select> 
                <mat-error>Select UOM</mat-error>
              </mat-form-field>
        </div> 

    


                   <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" tab-index=-13> 
                  
                        <mat-label><!-- Approximate value --></mat-label>
                    <mat-form-field appearance="outline" fxFlex="50">
                        
                        <input matInput  type="text"  formControlName="txtApproximate" placeholder="Approximate Value"  >
                    </mat-form-field>
                    </div> 

          
                   <div fxLayout="row" fxLayoutAlign="start " fxFlex="1 0 auto" tab-index=-14 class="h95">  
                        <mat-label></mat-label> 
                        <mat-form-field  class="enquiry-textarea">
                         
                         <textarea matInput  type="text"  formControlName="txtdDescription"
                         placeholder="Brief Description" name="desc" class="desc-textarea" required></textarea>
                         
                        </mat-form-field>
                        <!-- <mat-error>Enter Description</mat-error> -->
                 </div>

                 <div fxLayout="row"  fxFlex="1 0 auto" class="formakingdynamic">   
                               <mat-label>Attachments, if any</mat-label>
                               <input type="file" #profilepic  formControlName="photo" (change)="onSelectionchange($event)" (change)="detectFiles($event)" style="display:none">
                               <button type="button"  class="browse-btn" (click)="profilepic.click()"> Browse</button>
                               <div class="brows-lbl" [hidden]="filenames"> {{ fileName }} </div>
                       
                    </div>  

                    <div class="w85per txt-rgt">
                            <button type="button" mat-raised-button  [disabled]="firstFormGroup.invalid || secondFormGroup.invalid" (click)="enquirySubmit()" class="activate-btn" >Submit</button>
                       </div>
                       </form>
                       </mat-step>
                       </mat-horizontal-stepper>
                       <!-- </div> -->
                    </div>  
                       <div class="form-errors-ymodel mr-24 mb-24 banner-rgt" fxLayout="column" 
                       fxLayoutAlign="center center" fxFlex="0.5 0 auto" >
                           <img src="assets/home/time-quality.png">
               </div>
                   
               
           
               
            </div>  
                <div class="toggle-btn ">
          
                        <button [ngClass]="{
                          'prev': isFirst,
                          'next': !isFirst
                        }"  (click)="buttonNext()" ></button>
          
          <!-- <button [disabled]="form.invalid"  -->
                       <button [disabled]="firstFormGroup.invalid"  [ngClass]="{
                          'next': isFirst,
                          'prev': !isFirst
                        }" (click)="buttonPrevious()"  ></button>
          
          
                      </div> 
                    
             
                  </div>



                         
   
             
